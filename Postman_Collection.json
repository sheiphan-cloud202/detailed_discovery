{
  "info": {
    "name": "Qubitz Report Generation API",
    "description": "Multi-report generation service - Executive, Technical, and Compliance reports",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "qubitz-api"
  },
  "item": [
    {
      "name": "1. Submit Report Generation Job",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "// Save job_id to environment variable for later use",
              "if (pm.response.code === 202) {",
              "    var jsonData = pm.response.json();",
              "    pm.environment.set(\"job_id\", jsonData.job_id);",
              "    console.log(\"Job ID saved: \" + jsonData.job_id);",
              "}"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"customer_info\": {\n    \"company_name\": \"GlobalTech Financial Services\",\n    \"industry\": \"Financial Technology\",\n    \"company_size\": \"Enterprise (1000+ employees)\",\n    \"headquarters\": \"London, UK\",\n    \"primary_contact\": {\n      \"name\": \"Sarah Johnson\",\n      \"title\": \"Chief Technology Officer\",\n      \"email\": \"sarah.johnson@globaltech.com\",\n      \"phone\": \"+44 20 1234 5678\"\n    }\n  },\n  \"use_case_discovery\": {\n    \"business_problem\": \"Manual financial document processing causing delays and errors\",\n    \"current_state\": \"Manual review of 10,000+ documents monthly by 50 analysts\",\n    \"primary_goal\": \"Automate document analysis and data extraction using GenAI\",\n    \"urgency\": \"High - competitive pressure and regulatory requirements\",\n    \"business_owner\": \"Sarah Johnson, CTO\"\n  },\n  \"data_readiness\": {\n    \"data_volume\": \"1TB+ financial documents (PDFs, images, forms)\",\n    \"data_quality\": \"High quality, structured financial documents\",\n    \"data_sources\": [\"Internal document management system\", \"Email attachments\", \"Partner portals\"],\n    \"data_formats\": [\"PDF\", \"JPEG\", \"PNG\", \"TIFF\"]\n  },\n  \"compliance_integration\": {\n    \"regulatory_frameworks\": [\"GDPR\", \"PCI-DSS\", \"FCA\", \"SOC2\"],\n    \"data_residency\": \"EU only (UK and Ireland)\",\n    \"compliance_requirements\": [\"Data encryption at rest and in transit\", \"Audit logging\", \"Access controls\"]\n  },\n  \"security_governance\": {\n    \"security_requirements\": [\"End-to-end encryption\", \"Role-based access control\", \"Multi-factor authentication\"],\n    \"data_classification\": \"Highly Confidential\",\n    \"retention_policy\": \"7 years as per financial regulations\"\n  }\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "https://zpsfp6yy4ucpagy454srjfsq4a0lguis.lambda-url.eu-west-2.on.aws/",
          "protocol": "https",
          "host": [
            "zpsfp6yy4ucpagy454srjfsq4a0lguis",
            "lambda-url",
            "eu-west-2",
            "on",
            "aws"
          ],
          "path": [
            ""
          ]
        },
        "description": "Submit assessment data to generate all three reports (Executive, Technical, Compliance).\n\nReturns a job_id immediately. The job_id is automatically saved to environment variable for use in subsequent requests."
      },
      "response": [
        {
          "name": "Success - Job Submitted",
          "originalRequest": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"customer_info\": {\n    \"company_name\": \"Test Company\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "https://zpsfp6yy4ucpagy454srjfsq4a0lguis.lambda-url.eu-west-2.on.aws/",
              "protocol": "https",
              "host": [
                "zpsfp6yy4ucpagy454srjfsq4a0lguis",
                "lambda-url",
                "eu-west-2",
                "on",
                "aws"
              ],
              "path": [
                ""
              ]
            }
          },
          "status": "Accepted",
          "code": 202,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"message\": \"Job submitted successfully\",\n  \"job_id\": \"c354c80a-3dfe-4a31-bc5c-2c6bf30eb649\",\n  \"status\": \"PENDING\",\n  \"check_status_url\": \"?job_id=c354c80a-3dfe-4a31-bc5c-2c6bf30eb649\",\n  \"estimated_completion_time\": \"~3 minutes\"\n}"
        }
      ]
    },
    {
      "name": "2. Check Job Status (PENDING)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "https://zpsfp6yy4ucpagy454srjfsq4a0lguis.lambda-url.eu-west-2.on.aws/?job_id={{job_id}}",
          "protocol": "https",
          "host": [
            "zpsfp6yy4ucpagy454srjfsq4a0lguis",
            "lambda-url",
            "eu-west-2",
            "on",
            "aws"
          ],
          "path": [
            ""
          ],
          "query": [
            {
              "key": "job_id",
              "value": "{{job_id}}",
              "description": "Job ID from submission response (auto-populated from environment)"
            }
          ]
        },
        "description": "Check the status of a submitted job. Uses the job_id saved from the previous request.\n\nStatus can be: PENDING, PROCESSING, COMPLETED, PARTIAL, or FAILED."
      },
      "response": [
        {
          "name": "Status: PENDING",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://zpsfp6yy4ucpagy454srjfsq4a0lguis.lambda-url.eu-west-2.on.aws/?job_id=c354c80a-3dfe-4a31-bc5c-2c6bf30eb649",
              "protocol": "https",
              "host": [
                "zpsfp6yy4ucpagy454srjfsq4a0lguis",
                "lambda-url",
                "eu-west-2",
                "on",
                "aws"
              ],
              "path": [
                ""
              ],
              "query": [
                {
                  "key": "job_id",
                  "value": "c354c80a-3dfe-4a31-bc5c-2c6bf30eb649"
                }
              ]
            }
          },
          "status": "Accepted",
          "code": 202,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"job_id\": \"c354c80a-3dfe-4a31-bc5c-2c6bf30eb649\",\n  \"status\": \"PENDING\",\n  \"created_at\": \"2025-10-15T10:30:00.123456\",\n  \"updated_at\": \"2025-10-15T10:30:00.123456\",\n  \"message\": \"Job is still processing. Please check again in a few moments.\"\n}"
        },
        {
          "name": "Status: PROCESSING",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://zpsfp6yy4ucpagy454srjfsq4a0lguis.lambda-url.eu-west-2.on.aws/?job_id=c354c80a-3dfe-4a31-bc5c-2c6bf30eb649",
              "protocol": "https",
              "host": [
                "zpsfp6yy4ucpagy454srjfsq4a0lguis",
                "lambda-url",
                "eu-west-2",
                "on",
                "aws"
              ],
              "path": [
                ""
              ],
              "query": [
                {
                  "key": "job_id",
                  "value": "c354c80a-3dfe-4a31-bc5c-2c6bf30eb649"
                }
              ]
            }
          },
          "status": "Accepted",
          "code": 202,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"job_id\": \"c354c80a-3dfe-4a31-bc5c-2c6bf30eb649\",\n  \"status\": \"PROCESSING\",\n  \"created_at\": \"2025-10-15T10:30:00.123456\",\n  \"updated_at\": \"2025-10-15T10:31:30.654321\",\n  \"message\": \"Job is still processing. Please check again in a few moments.\"\n}"
        },
        {
          "name": "Status: COMPLETED (3 Reports)",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://zpsfp6yy4ucpagy454srjfsq4a0lguis.lambda-url.eu-west-2.on.aws/?job_id=c354c80a-3dfe-4a31-bc5c-2c6bf30eb649",
              "protocol": "https",
              "host": [
                "zpsfp6yy4ucpagy454srjfsq4a0lguis",
                "lambda-url",
                "eu-west-2",
                "on",
                "aws"
              ],
              "path": [
                ""
              ],
              "query": [
                {
                  "key": "job_id",
                  "value": "c354c80a-3dfe-4a31-bc5c-2c6bf30eb649"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"job_id\": \"c354c80a-3dfe-4a31-bc5c-2c6bf30eb649\",\n  \"status\": \"COMPLETED\",\n  \"created_at\": \"2025-10-15T10:30:00.123456\",\n  \"updated_at\": \"2025-10-15T10:33:45.789012\",\n  \"s3_reports\": [\n    {\n      \"type\": \"executive\",\n      \"bucket\": \"qubitz-detailed-discovery-bucket\",\n      \"key\": \"reports/globaltech_financial_services/c354c80a-3dfe-4a31-bc5c-2c6bf30eb649/executive_report_20251015_103345.pdf\",\n      \"presigned_url\": \"https://qubitz-detailed-discovery-bucket.s3.amazonaws.com/reports/...\",\n      \"expires_in_seconds\": 3600\n    },\n    {\n      \"type\": \"technical\",\n      \"bucket\": \"qubitz-detailed-discovery-bucket\",\n      \"key\": \"reports/globaltech_financial_services/c354c80a-3dfe-4a31-bc5c-2c6bf30eb649/technical_report_20251015_103345.pdf\",\n      \"presigned_url\": \"https://qubitz-detailed-discovery-bucket.s3.amazonaws.com/reports/...\",\n      \"expires_in_seconds\": 3600\n    },\n    {\n      \"type\": \"compliance\",\n      \"bucket\": \"qubitz-detailed-discovery-bucket\",\n      \"key\": \"reports/globaltech_financial_services/c354c80a-3dfe-4a31-bc5c-2c6bf30eb649/compliance_report_20251015_103345.pdf\",\n      \"presigned_url\": \"https://qubitz-detailed-discovery-bucket.s3.amazonaws.com/reports/...\",\n      \"expires_in_seconds\": 3600\n    }\n  ],\n  \"s3_folder\": {\n    \"bucket\": \"qubitz-detailed-discovery-bucket\",\n    \"prefix\": \"reports/globaltech_financial_services/c354c80a-3dfe-4a31-bc5c-2c6bf30eb649/\",\n    \"description\": \"All reports for this job are in: s3://qubitz-detailed-discovery-bucket/reports/globaltech_financial_services/c354c80a-3dfe-4a31-bc5c-2c6bf30eb649/\"\n  },\n  \"s3\": {\n    \"bucket\": \"qubitz-detailed-discovery-bucket\",\n    \"key\": \"reports/globaltech_financial_services/c354c80a-3dfe-4a31-bc5c-2c6bf30eb649/executive_report_20251015_103345.pdf\",\n    \"presigned_url\": \"https://qubitz-detailed-discovery-bucket.s3.amazonaws.com/reports/...\",\n    \"expires_in_seconds\": 3600\n  },\n  \"metadata\": {\n    \"executive\": {\n      \"company_name\": \"GlobalTech Financial Services\",\n      \"industry\": \"Financial Technology\"\n    },\n    \"technical\": {\n      \"company_name\": \"GlobalTech Financial Services\"\n    },\n    \"compliance\": {\n      \"company_name\": \"GlobalTech Financial Services\"\n    }\n  },\n  \"reports_count\": 3\n}"
        },
        {
          "name": "Status: FAILED",
          "originalRequest": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://zpsfp6yy4ucpagy454srjfsq4a0lguis.lambda-url.eu-west-2.on.aws/?job_id=c354c80a-3dfe-4a31-bc5c-2c6bf30eb649",
              "protocol": "https",
              "host": [
                "zpsfp6yy4ucpagy454srjfsq4a0lguis",
                "lambda-url",
                "eu-west-2",
                "on",
                "aws"
              ],
              "path": [
                ""
              ],
              "query": [
                {
                  "key": "job_id",
                  "value": "c354c80a-3dfe-4a31-bc5c-2c6bf30eb649"
                }
              ]
            }
          },
          "status": "OK",
          "code": 200,
          "_postman_previewlanguage": "json",
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            }
          ],
          "cookie": [],
          "body": "{\n  \"job_id\": \"c354c80a-3dfe-4a31-bc5c-2c6bf30eb649\",\n  \"status\": \"FAILED\",\n  \"created_at\": \"2025-10-15T10:30:00.123456\",\n  \"updated_at\": \"2025-10-15T10:30:45.789012\",\n  \"error_message\": \"Failed to generate reports: Invalid assessment data format\"\n}"
        }
      ]
    },
    {
      "name": "3. Check Specific Job (Manual job_id)",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "https://zpsfp6yy4ucpagy454srjfsq4a0lguis.lambda-url.eu-west-2.on.aws/?job_id=PASTE_JOB_ID_HERE",
          "protocol": "https",
          "host": [
            "zpsfp6yy4ucpagy454srjfsq4a0lguis",
            "lambda-url",
            "eu-west-2",
            "on",
            "aws"
          ],
          "path": [
            ""
          ],
          "query": [
            {
              "key": "job_id",
              "value": "PASTE_JOB_ID_HERE",
              "description": "Replace with your actual job_id"
            }
          ]
        },
        "description": "Check status using a manually entered job_id. \n\nReplace PASTE_JOB_ID_HERE with your actual job ID."
      },
      "response": []
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "https://zpsfp6yy4ucpagy454srjfsq4a0lguis.lambda-url.eu-west-2.on.aws/",
      "type": "string"
    },
    {
      "key": "job_id",
      "value": "",
      "type": "string"
    }
  ]
}

